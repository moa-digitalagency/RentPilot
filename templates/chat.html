{% extends "base.html" %}

{% block title %}Communication - ColocPilot{% endblock %}

{% block content %}
<section id="view-chat" class="h-[calc(100vh-8rem)] animate-fade-in flex flex-col glass-panel rounded-2xl overflow-hidden">
        <div class="flex-none p-4 border-b border-white/30 bg-white/40 backdrop-blur-md">
            <div class="flex space-x-1 bg-gray-100/50 p-1 rounded-xl w-fit">
                <button class="tab-btn active px-4 py-2 rounded-lg text-sm font-medium text-gray-700 transition-all hover:bg-white shadow-sm bg-white" data-tab="chat-general">G√©n√©ral & Bailleur</button>
                <button class="tab-btn px-4 py-2 rounded-lg text-sm font-medium text-gray-500 hover:text-gray-700 transition-all hover:bg-white/50" data-tab="chat-colocs">Entre Colocs üîí</button>
            </div>
        </div>

        <!-- Chat Content -->
        <div class="flex-1 overflow-y-auto p-4 bg-white/20" id="chat-container">
            <!-- Tab 1: General -->
            <div id="chat-general" class="space-y-4 h-full">
                <!-- Date Divider -->
                <div class="flex justify-center">
                    <span class="text-xs text-gray-400 bg-white/50 px-2 py-1 rounded-full">Aujourd'hui</span>
                </div>

                <!-- Message Left -->
                <div class="flex items-end gap-2">
                    <div class="w-8 h-8 rounded-full bg-pink-100 flex items-center justify-center text-pink-600 text-xs font-bold flex-shrink-0">S</div>
                    <div class="bg-white/80 p-3 rounded-2xl rounded-bl-none shadow-sm max-w-xs sm:max-w-md">
                        <p class="text-sm text-gray-800">Hello ! Quelqu'un a vu le courrier ? Je crois que j'ai re√ßu un colis.</p>
                        <span class="text-[10px] text-gray-400 mt-1 block">10:42</span>
                    </div>
                </div>

                <!-- Message Right (Me) -->
                <div class="flex items-end gap-2 justify-end">
                    <div class="bg-indigo-600/90 text-white p-3 rounded-2xl rounded-br-none shadow-sm max-w-xs sm:max-w-md">
                        <p class="text-sm">Oui, je l'ai mis sur la table de l'entr√©e en partant ce matin !</p>
                        <span class="text-[10px] text-indigo-200 mt-1 block text-right">10:45</span>
                    </div>
                </div>
            </div>

            <!-- Tab 2: Colocs -->
            <div id="chat-colocs" class="hidden space-y-4 h-full">
                <div class="flex flex-col items-center justify-center h-full text-gray-500 space-y-2">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-gray-300" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
                </svg>
                <p>Espace priv√© r√©serv√© aux locataires.</p>
                </div>
            </div>
        </div>

        <!-- Input Area -->
        <div class="flex-none p-4 bg-white/60 border-t border-white/30 backdrop-blur-md">
            <div class="flex gap-2">
                <button class="p-2 text-gray-400 hover:text-gray-600 hover:bg-white/50 rounded-full transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13" />
                    </svg>
                </button>
                <input type="text" placeholder="√âcrivez votre message..." class="flex-1 bg-white/50 border border-white/30 rounded-full px-4 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500/50 text-sm">
                <button class="p-2 bg-indigo-600 text-white rounded-full hover:bg-indigo-700 shadow-lg shadow-indigo-500/30 transition-all hover:scale-105">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                        <path d="M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z" />
                    </svg>
                </button>
            </div>
        </div>
</section>
{% endblock %}
